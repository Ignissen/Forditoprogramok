#include <iostream>
#include "domol_automat.h"

using std::cout;
using std::cin;
using std::endl;

int main(int argc, char* argv[])
{
    std::vector<std::string> alph = {"letter", "number", "{", "}", "(", "*", ")", ";", "=", "<", ">", "space", "other", "$"};
    std::vector<int> accepting_states = {21};
    std::vector<std::vector<int>> state_transitions = {{},{2,4,6,19,8,19,19,12,19,14,17,1,19,21},
                                                          {2,2,3,3,3,3,3,3,3,3,3,3,3,3}, 
                                                          {1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                                                          {5,4,5,5,5,5,5,5,5,5,5,5,5,5},
                                                          {1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                                                          {6,6,6,7,6,6,6,6,6,6,6,6,6,19},
                                                          {1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                                                          {20,20,20,20,20,9,20,20,20,20,20,20,20,20,19},
                                                          {9,9,9,9,9,10,9,9,9,9,9,9,9,19},
                                                          {9,9,9,9,9,10,11,9,9,9,9,9,9,19},
                                                          {1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                                                          {20,20,20,20,20,20,20,20,13,20,20,20,20,19},
                                                          {1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                                                          {20,20,20,20,20,20,20,20,15,20,20,20,20,19},
                                                          {1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                                                          {1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                                                          {20,20,20,20,20,20,20,20,18,20,20,20,20,19},
                                                          {1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                                                          {1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                                                          {1,1,1,1,1,1,1,1,1,1,1,1,1,1},
                                                          {21,21,21,21,21,21,21,21,21,21,21,21,21,21}
                                                          
    };
    std::vector<bool> backup = {0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};
    std::vector<bool> read =   {1,1,0,1,0,1,0,1,1,1,0,1,0,1,0,0,1,0,0,0,0};

    domol_automat d(alph,state_transitions,1,accepting_states,backup,read);
    if(d.validate("b√©la1=21;$"))
    {
        std::cout << "Elfogadja." << endl;
    }
    else
    {
        cout << "NYET" << endl;
    }
    
    return 0;
}